= Introdu√ß√£o ao Desenvolvimento de Aplicativos M√≥veis com Kotlin e Android

Nesta aula, ser√° apresentado os conceitos b√°sicos de desenvolvimento de aplicativos m√≥veis com Kotlin e configuraremos o ambiente de desenvolvimento para trabalhar com Android Studio. Ser√° feita uma introdu√ß√£o √† linguagem Kotlin, suas principais caracter√≠sticas e vantagens no uso em Android.

== Hist√≥ria da Linguagem Kotlin

Kotlin √© uma linguagem de programa√ß√£o criada pela JetBrains em 2011. O objetivo principal da cria√ß√£o do Kotlin foi criar uma linguagem que fosse mais segura, concisa e f√°cil de usar do que as linguagens existentes. Em 2017, a Google anunciou oficialmente o suporte ao Kotlin como primeira linguagem oficial para desenvolvimento de aplicativos Android.

== Principais Caracter√≠sticas da Linguagem de Programa√ß√£o Kotlin

Kotlin √© uma linguagem orientada a objetos que oferece v√°rias caracter√≠sticas inovadoras e interessantes, tais como:

*Tipagem est√°tica:* Kotlin √© uma linguagem com tipagem est√°tica, o que significa que os tipos dos vari√°veis devem ser declarados antes de uso.

*Fun√ß√µes:* Kotlin permite a defini√ß√£o de fun√ß√µes como primeira classe, ou seja, fun√ß√µes podem ser passadas como argumentos para outras fun√ß√µes e retornadas por outras fun√ß√µes.

*Classes e Objetos:* Kotlin suporta as principais caracter√≠sticas da programa√ß√£o orientada a objetos, incluindo classes, objetos, heran√ßa e polimorfismo.

*Infer√™ncia de Tipagem:* A linguagem Kotlin utiliza o tipo inferido, que significa que voc√™ n√£o precisa declarar os tipos das vari√°veis.

== Caracter√≠sticas e Vantagens do Uso de Kotlin em Android

Algumas das principais vantagens do uso de Kotlin em Android incluem:

*Menor complexidade:* O c√≥digo escrito com Kotlin √© mais conciso e f√°cil de entender.
Maior seguran√ßa: A linguagem Kotlin oferece um conjunto de recursos de seguran√ßa que reduzem a probabilidade de erros comuns.

*Suporte √† tipagem est√°tica:* A tipagem est√°tica √© uma caracter√≠stica chave do Kotlin, o que significa que os tipos dos vari√°veis devem ser declarados antes de uso.

== Prepara√ß√£o do Ambiente de Desenvolvimento Kotlin

A linguagem Kotlin √© suportada pelo IntelliJ IDEA e Android Studio. Inicialmente, vamos aprender a utilizar o IntelliJ IDEA para criar um projeto simples que utiliza Kotlin como linguagem de programa√ß√£o.

=== Configura√ß√£o do IntelliJ IDEA para Desenvolvimento com Kotlin

Para criar um projeto simples utilizando Kotlin no IntelliJ IDEA, siga os passos abaixo:

. Baixe e instale a vers√£o mais recente do IntelliJ IDEA.

. Abra o IntelliJ IDEA e selecione `File | New | Project`.

. Na lista √† esquerda, selecione `Kotlin`.

. Informe o nome do novo projeto e altere sua localiza√ß√£o, se necess√°rio.

. Selecione a op√ß√£o `Create Git repository` para criar um reposit√≥rio Git para o projeto, caso deseje.

. Escolha o sistema de build `IntelliJ`.
Esse sistema √© nativo e n√£o requer downloads adicionais.

. No campo `JDK`, selecione o JDK instalado no seu computador ou utilize a op√ß√£o `Add JDK` para especificar o caminho do diret√≥rio do JDK instalado.
Caso n√£o possua um JDK instalado, selecione `Download JDK` para realizar o download.

. Ative a op√ß√£o `Add sample code` para criar um arquivo com o c√≥digo exemplo "Hello World!".
+
image::01-new-project.png[]

. Clique em `Create` para finalizar a cria√ß√£o do projeto.

Para executar o projeto:

. Abra o arquivo `Main.kt` localizado em `src/main/kotlin`.

. Para executar o c√≥digo, clique no √≠cone verde de `Run` na lateral do c√≥digo.

. Selecione a op√ß√£o `Run 'MainKt'` para executar o c√≥digo.
+
image::02-run-project.png[]

. O resultado da execu√ß√£o ser√° exibido na janela de execu√ß√£o.
+
image::03-run-output.png[]

. Modifique o c√≥digo de exemplo para este, que solicita o nome do usu√°rio e o cumprimenta:
+
[source,kotlin]
----
fun main() {
    println("Qual √© o seu nome?")
    val nome = readln()
    println("Ol√°, $nome!")
}
----

. Clique no √≠cone verde de `Run` na lateral para executar a aplica√ß√£o.

. Insira o seu nome no console e veja o resultado na janela de execu√ß√£o.

image::04-hello-student.gif[]

Pronto!
Voc√™ executou com sucesso sua primeira aplica√ß√£o Kotlin utilizando o IntelliJ IDEA.

== Prepara√ß√£o do Ambiente de Desenvolvimento Android
A linguagem Kotlin √© uma escolha popular para o desenvolvimento de aplicativos m√≥veis no Android Studio. Vamos aprender a configurar o ambiente e criar um projeto inicial simples que utiliza Kotlin.

=== Configura√ß√£o do Android Studio para Desenvolvimento com Kotlin
Para criar um projeto simples utilizando Kotlin no Android Studio, siga os passos abaixo:

. Baixe e instale a vers√£o mais recente do **Android Studio** no site oficial do [https://developer.android.com/studio Android Developers].

. Abra o Android Studio e selecione `File | New | New Project`.

. Na janela `Create New Project`, escolha a op√ß√£o `Empty Activity` para criar um projeto Android simples.
+
image::05-select-template.png[]

. Clique em `Next`.

. Preencha as informa√ß√µes do projeto:
a. Informe o nome do aplicativo no campo `Name` (exemplo: `HelloApp`).
b. Escolha o nome do pacote em `Package name`, ajustando conforme necess√°rio.
c. Defina o diret√≥rio de localiza√ß√£o do projeto no campo `Save location`.

. Escolha o **n√≠vel m√≠nimo de API (Min SDK)** compat√≠vel com o dispositivo-alvo. Exemplo: API 24.

. Selecione a linguagem de configura√ß√£o do projeto no campo `Build configuration language`. Recomenda-se manter a op√ß√£o `Kotlin DSL`.
+
image::06-new-project-android.png[]

. Clique em `Finish` para criar o projeto.

=== Estrutura do Projeto
Ap√≥s o Android Studio finalizar a cria√ß√£o do projeto, observe a estrutura b√°sica (alguns arquivos foram omitidos para simplificar a listagem):

[listing]
----
üìí HelloApp <1>
  üìÑ build.gradle.kts <2>
  üìÑ gradle.properties
  üìÑ settings.gradle.kts
  üìÑ local.properties
  üìÑ gradlew
  üìÑ gradlew.bat
  üìÇ gradle
  üìÇ app <3>
    üìÑ build.gradle.kts
    üìÑ proguard-rules.pro
    üìÇ src <4>
      üìÇ androidTest <9>
      üìÇ main <5>
        üìÑ AndroidManifest.xml
        üìÇ java <6>
          üìÇ com.example.helloapp
            üìÑ MainActivity.kt <10>
        üìÇ res <7>
      üìÇ test <8>
        üìÇ java
----

<.> Diret√≥rio raiz do projeto.
<.> Arquivo de configura√ß√£o do projeto.
<.> Diret√≥rio `app`: cont√©m arquivos do aplicativo.
<.> Diret√≥rio `app/src`: cont√©m arquivos de c√≥digo e recursos do aplicativo.
<.> Diret√≥rio `app/src/main`: cont√©m arquivos do aplicativo.
<.> Diret√≥rio `app/src/main/java`: cont√©m arquivos de c√≥digo Kotlin.
<.> Diret√≥rio `app/src/main/res`: cont√©m arquivos de recursos de layout, como XMLs, imagens e valores.
<.> Diret√≥rio `app/src/test`: cont√©m arquivos de teste do aplicativo.
<.> Diret√≥rio `app/src/androidTest`: cont√©m arquivos de teste de instrumenta√ß√£o.
<.> Arquivo `MainActivity.kt`: classe principal do aplicativo.

=== Executando o Projeto
Para executar o projeto inicial:

. Conecte um dispositivo f√≠sico Android ao computador ou configure um **Emulador Android** pelo bot√£o `Device Manager` na barra de ferramentas.

. Clique no √≠cone verde `Run` ou pressione `Shift + F10` para compilar e executar o projeto.

. O aplicativo padr√£o exibir√° uma mensagem "Hello World" na tela inicial.
+
image::07-run-android-project.png[]

=== Modificando o C√≥digo de Exemplo
Personalize a mensagem de `Hello Android!` para algo diferente:

. Abra o arquivo `MainActivity.kt` localizado no diret√≥rio `app/src/main/java/com/example/helloapp`.

. Atualize a fun√ß√£o `onCreate` da classe `MainActivity` para modificar a mensagem exibida:
+
[source, kotlin]
----
package com.example.helloapp

import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.activity.enableEdgeToEdge
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.foundation.layout.padding
import androidx.compose.material3.Scaffold
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.tooling.preview.Preview
import com.example.helloapp.ui.theme.HelloAppTheme

class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        enableEdgeToEdge()
        setContent {
            HelloAppTheme {
                Scaffold(modifier = Modifier.fillMaxSize()) { innerPadding ->
                    Greeting(
                        name = "Android Mobile Development",
                        modifier = Modifier.padding(innerPadding)
                    )
                }
            }
        }
    }
}

@Composable
fun Greeting(name: String, modifier: Modifier = Modifier) {
    Text(
        text = "Hello $name!",
        modifier = modifier
    )
}

@Preview(showBackground = true)
@Composable
fun GreetingPreview() {
    HelloAppTheme {
        Greeting("Android")
    }
}
----
> Observe que `setContent` √© usada para exibir o conte√∫do, t√≠pico de projetos usando **Jetpack Compose**.

. Rode novamente o projeto utilizando o bot√£o verde `Run` na barra de ferramentas ou utilize o atalho `Shift + F10`.

. Aguarde o processo de build e observe o aplicativo rodando no emulador/dispositivo.
+
image::10-app-output-jetpack-compose.png[]

=== Incrementando o Projeto

Caso deseje manter um layout XML ao inv√©s do Jetpack Compose, o projeto tamb√©m suportar√° layouts tradicionais. Alterne para o XML alterando o m√©todo `onCreate`:

. Abra o arquivo `MainActivity.kt` localizado no diret√≥rio `app/src/main/java/com/example/helloapp`. Modifique o m√©todo `onCreate` para utilizar um layout XML:
+
[source, kotlin]
----
package com.example.helloapp

import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.enableEdgeToEdge

class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        enableEdgeToEdge()
        setContentView(R.layout.activity_main)
    }
}
----
> Observe que `setContentView` √© usada para exibir o conte√∫do utilizando um layout XML.

. Crie um arquivo `activity_main.xml` em `res/layout` com um `TextView` b√°sico para exibir uma mensagem personalizada. Voc√™ pode utilizar a a√ß√£o `Alt + Enter` para criar o arquivo XML automaticamente.
+
image::08-new-resource.png[]

. Preencha os atributos do novo recurso XML na janela de cria√ß√£o.
+
image::09-new-resource-options.png[]

. Abra o arquivo XML criado. Caso n√£o seja exibido o conte√∫do, alterne o modo de visualiza√ß√£o para `Code` utilizando o bot√£o image:text-button.png[] no canto superior direito.

. Modifique o conte√∫do do arquivo XML para exibir uma mensagem personalizada:
+
[source, xml]
----
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center"
    android:orientation="vertical">

    <TextView
        android:id="@+id/textView"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_margin="16dp"
        android:fontFamily="sans-serif"
        android:text="Hello Android Mobile Development!"
        android:textColor="#000000"
        android:textSize="16sp" />

</LinearLayout>
----

. Aguarde o processo de build e observe o aplicativo rodando no emulador/dispositivo.
+
image::11-app-output-xml-layout.png[]

=== Conclus√£o

Agora, voc√™ aprendeu como criar um projeto simples no Android Studio utilizando a API 24 e `ComponentActivity` como a classe base, tanto com **Jetpack Compose**, quanto com **layouts XML**.
